{"version":3,"sources":["main.js"],"names":["submit","document","querySelector","email","form","URL","addEventListener","evt","validity","patternMismatch","setCustomValidity","valueMissing","upload","data","xhr","XMLHttpRequest","responseType","status","console","log","response","statusText","timeout","open","send","value","preventDefault"],"mappings":"AAcA,IAAIA,OAASC,SAASC,cAAc,iBAChCC,MAAQF,SAASC,cAAc,sBAC/BE,KAAOH,SAASC,cAAc,SAC9BG,IAAM,8CAGVF,MAAMG,iBAAiB,UAAW,SAAUC,GACtCJ,MAAMK,SAASC,gBACjBN,MAAMO,kBAAkB,uCACfP,MAAMK,SAASG,aACxBR,MAAMO,kBAAkB,kBAExBP,MAAMO,kBAAkB,MAI5B,IAAIE,OAAS,SAAUC,GACrB,IAAIC,EAAM,IAAIC,eACdD,EAAIE,aAAe,OAEnBF,EAAIR,iBAAiB,OAAQ,WACR,MAAfQ,EAAIG,OACNC,QAAQC,IAAIL,EAAIM,UAEhBF,QAAQC,IAAI,kBAAoBL,EAAIG,OAAS,IAAMH,EAAIO,cAI3DP,EAAIR,iBAAiB,QAAS,WAC5BY,QAAQC,IAAI,iCAGdL,EAAIR,iBAAiB,UAAW,WAC9BY,QAAQC,IAAI,kCAAoCL,EAAIQ,QAAU,QAGhER,EAAIQ,QAAU,IAEdR,EAAIS,KAAK,OAAQlB,KACjBS,EAAIU,KAAKX,IAKXT,KAAKE,iBAAiB,SAAU,SAAUC,GACxCK,OAAOT,MAAMsB,OACblB,EAAImB","file":"main.js","sourcesContent":["// input.validity = {\r\n//   valid: false // Поле валидно\r\n//   customError: false // Установленно специальное сообщение ошибки\r\n//   patternMismatch: false // Значение не удовлетворяет шаблону, установленному в атрибуте pattern\r\n//   rangeOverflow: false // Значение превосходит атрибут max\r\n//   rangeUnderflow: true // Значение меньше атрибута min\r\n//   stepMismatch: true // Значение не соответствует указаному шагу\r\n//   tooLong: false // Значение слишком длинное\r\n//   tooShort: false // Значение слишком короткое\r\n//   typeMismatch: false // Значение не соответствует указаному атрибуту type\r\n//   valueMissing: false // Отсутствует обязательное значение\r\n// };\r\n\r\n\r\nvar submit = document.querySelector('.form__submit');\r\nvar email = document.querySelector('.form__input--mail');\r\nvar form = document.querySelector('.form');\r\nvar URL = 'https://pp.deex.exchange/verify/store_email';\r\n\r\n\r\nemail.addEventListener('invalid', function (evt) {\r\n  if (email.validity.patternMismatch) {\r\n    email.setCustomValidity('Please enter a valid email address.');\r\n  } else if (email.validity.valueMissing) {\r\n    email.setCustomValidity('Required field');\r\n  } else {\r\n    email.setCustomValidity('');\r\n  }\r\n});\r\n\r\nvar upload = function (data) {\r\n  var xhr = new XMLHttpRequest();\r\n  xhr.responseType = 'json';\r\n\r\n  xhr.addEventListener('load', function () {\r\n    if (xhr.status === 200) {\r\n      console.log(xhr.response);\r\n    } else {\r\n      console.log('Статус ответа: ' + xhr.status + ' ' + xhr.statusText);\r\n    }\r\n  });\r\n\r\n  xhr.addEventListener('error', function () {\r\n    console.log('Произошла ошибка соединения');\r\n  });\r\n\r\n  xhr.addEventListener('timeout', function () {\r\n    console.log('Запрос не успел выполниться за ' + xhr.timeout + 'мс');\r\n  });\r\n\r\n  xhr.timeout = 10000; // 10s\r\n\r\n  xhr.open('POST', URL);\r\n  xhr.send(data);\r\n};\r\n\r\n\r\n\r\nform.addEventListener('submit', function (evt) {\r\n  upload(email.value)\r\n  evt.preventDefault();\r\n});"]}